<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Gestionar Cargos de la Unidad</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>
<div class="container mt-5">
    <h2>Gestionar Cargos para <span th:text="${unidad.nombreUnidad} ?: 'Sin nombre'"></span></h2>

    <h3>Seleccionar Cargo Asociado</h3>
    <form th:action="@{/unidades/{id}/cargos/update-associations(id=${unidad.id})}" method="post">
        <div class="table-responsive">
            <table class="table table-striped">
                <thead>
                <tr>
                    <th>Seleccionar</th>
                    <th>Nombre</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="cargo : ${allCargos}">
                    <td>
                        <input type="radio" th:name="selectedCargo" th:value="${cargo.id}"
                               th:checked="${cargos.contains(cargo)}">
                    </td>
                    <td th:text="${cargo.name} ?: 'N/A'"></td>
                </tr>
                <tr th:if="${#lists.isEmpty(allCargos)}">
                    <td colspan="2">No hay cargos disponibles (sin pid).</td>
                </tr>
                </tbody>
            </table>
        </div>
        <button type="submit" class="btn btn-primary">Guardar Asociaci√≥n</button>
        <a th:href="@{/unidades/details/{id}(id=${unidad.id})}" class="btn btn-secondary">Volver</a>
    </form>
</div>
</body>
</html>